<form novalidate="true" name="planSetUpForm">
    <div class="wizard fuelux-wizard" id="planSetUpWizard" style="overflow: visible">
        <ul class="steps">
            <li data-step="1" data-name="campaign" class="active">
                <span class="badge">1</span>Plan Details<span class="chevron"></span></li>
            <li data-step="2"><span class="badge">2</span>Sum Assured<span class="chevron"></span></li>
            <li data-step="3"><span class="badge">3</span>Policy Term<span class="chevron"></span></li>
            <li data-step="4" data-name="template"><span class="badge">4</span>Premium Term<span class="chevron"></span>
            </li>
            <li data-step="5" data-name="template"><span class="badge">5</span>Coverage<span class="chevron"></span>
            </li>
            <li data-step="6" data-name="template"><span class="badge">6</span>Benefits<span class="chevron"></span>
            </li>
        </ul>
        <div class="actions">
            <button type="button" class="btn btn-default btn-prev">
                <span class="glyphicon glyphicon-arrow-left"></span>Prev
            </button>
            <button type="button" class="btn btn-default btn-next" data-last="Complete">Next<span
                    class="glyphicon glyphicon-arrow-right"></span></button>
        </div>
        <div class="step-content">
            <div class="step-pane" data-step="1">
                <h4>Plan Details</h4>
                <!-- Select Basic -->
                <ng-form id="step1" name="step1">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group required">
                                <label class="control-label">Line of Business/Product Line</label>
                                <select class="form-control input-sm" id="lineOfBusinessId"
                                        ng-model="plan.planDetail.lineOfBusinessId" name="lineOfBusinessId" ng-required="true">
                                    <option value="INDIVIDUAL_INSURANCE">Individual</option>
                                    <option value="GROUP_HEALTH">Group Health</option>
                                    <option value="GROUP_INSURANCE">Group Insurance</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group required">
                                <label class="control-label">Plan Name</label>
                                <input id="planName" name="planName" ng-model="plan.planDetail.planName" ng-required="true" type="text" class="form-control input-sm"/>
                                <div class="error" ng-show="step1.planName.$dirty &amp;&amp; step1.planName.$invalid">
                                    <small class="error" ng-show="step1.planName.$error.maxlength">
                                        Exceeded max length.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group required">
                                <label class="control-label" >Client Type</label>
                                <select id="clientType" class="form-control input-sm" ng-model="clientType" ng-required="true" name="clientType">
                                    <option value="INDIVIDUAL">Individual</option>
                                    <option value="GROUP">Group</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group required">
                                <label class="control-label">Plan Type</label>
                                <select id="productType" ng-model="plan.planDetail.planType" class="form-control input-sm" ng-required="true" name="productType">
                                    <option value="INVESTMENT">Investment</option>
                                    <option value="NON_INVESTMENT">Non-Investment</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group required">
                                <label class="control-label" >Plan Code</label>
                                <input id="productCode" name="productCode" ng-model="plan.planDetail.planCode" type="text" size="10" class="form-control input-sm" ng-required="true"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group  required">
                                <label class="control-label">FreeLook Period</label>
                                <input id="freeLookPeriod" name="freeLookPeriod" type="number"
                                       class="form-control input-sm" ng-model="plan.planDetail.freeLookPeriod"
                                       ng-required="true" placeholder="(in days)"/>
                                <div ng-show="isValid(step1.freeLookPeriod)">
                                    <small class="error" ng-show="step1.freeLookPeriod.$error.number">Please
                                        enter Numbers only.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group  required">
                                <label class="control-label">Launch Date</label>
                                <div class='input-group date'>
                                    <input type="text" class="form-control input-sm"
                                           datepicker-popup=""
                                           ng-required="true"
                                           is-open="launchDateOpen"
                                           ng-model="launchDt" name="launchDate" id='launchDate'/>
                                    <span class="input-group-btn">
                                    <button type="button" class="btn btn-default btn-sm" ng-click="openLaunchDate($event)">
                                        <i class="glyphicon glyphicon-calendar"></i></button>
                                  </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label" >Withdrawal Date</label>
                                <div class='input-group date'>
                                    <input type="text" class="form-control input-sm"
                                           is-open="withdrawalDateOpen"
                                           min-date="launchDt"
                                           datepicker-popup="" name="withdrawalDate"
                                           ng-model="withdrawalDt" id='withdrawalDate'/>
                                    <span class="input-group-btn">
                                    <button type="button" class="btn btn-default btn-sm" ng-click="openWithdrawalDate($event)">
                                        <i class="glyphicon glyphicon-calendar"></i></button>
                                  </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group required">
                                <label class="control-label">Min Entry Age</label>
                                <input type="number" ng-required="true"
                                       class="form-control input-sm" name="minEntryAge" id='minEntryAge'
                                       ng-model="plan.planDetail.minEntryAge"/>
                                <div ng-show="step1.minEntryAge.$dirty &amp;&amp; step1.minEntryAge.$invalid">
                                    <small class="error" ng-show="step1.minEntryAge.$error.number">Please
                                        enter Numbers only.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group  required" ng-class="error('maxEntryAge')">
                                <label class="control-label">Max Entry Age</label>
                                <input type="number" class="form-control input-sm" ng-required="true"
                                       ng-model="plan.planDetail.maxEntryAge"
                                       id='maxEntryAge' min="{{plan.planDetail.minEntryAge}}" name="maxEntryAge"/>
                                <div ng-show="step1.maxEntryAge.$dirty &amp;&amp; step1.maxEntryAge.$invalid">
                                    <small class="error" ng-show="step1.maxEntryAge.$error.min">
                                        Max age should be greater than or equal to Min age.
                                    </small>
                                    <small class="error" ng-show="step1.maxEntryAge.$error.number">Please
                                        enter Numbers only.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" ng-class="isSurrenderReq()">
                                <label class="control-label" for="surrenderAfter">
                                    Number of years post which surrender option should be accepted </label>

                                <div class="controls">
                                    <input id="surrenderAfter" ng-pattern="onlyNumbers" name="surrenderAfter"
                                           ng-required="!isSurrenderDisabled()"
                                           ng-model="plan.planDetail.surrenderAfter"
                                           type="text" class="form-control input-sm" ng-disabled="isSurrenderDisabled()" placeholder="(in years)"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group required">
                                <label class="control-label" style="display: block;">Is Tax Applicable?</label>
                                <label class="radio-inline">
                                    <input type="radio" name="taxable" id="taxable" ng-required="true" nvalue="true"
                                           ng-model="plan.planDetail.taxApplicable" ng-value="plan.planDetail.taxApplicable"/>Yes
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="taxable" ng-required="true" value="false"
                                           ng-model="plan.planDetail.taxApplicable" ng-value="plan.planDetail.taxApplicable"/>No
                                </label>
                                <div class="error"
                                     ng-show="step1.taxable.$dirty &amp;&amp; step1.taxable.$invalid">
                                    <small class="error"
                                           ng-show="step1.taxable.$error.required">
                                        Please indicate whether taxes are applicable for the product.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Select Multiple -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label" style="display: block">Relationships Covered</label>
                                <label class="checkbox-inline" ng-repeat="rel in relations">
                                    <input type="checkbox"
                                           checklist-model="plan.planDetail.applicableRelationships"
                                           checklist-value="rel.val"/>{{rel.desc}}
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label" style="display: block">Endorsements Available</label>
                                <label class="checkbox-inline"
                                       ng-repeat="endorsementType in endorsementTypes|filter:clientType">
                                    <input type="checkbox" checklist-value="endorsementType.val"
                                           checklist-model="plan.planDetail.endorsementTypes"/>{{endorsementType.desc}}
                                </label>
                            </div>
                        </div>
                    </div>
                    <!-- Select Multiple -->
                </ng-form>
            </div>
            <div class="step-pane" data-step="2">
                <h4>Sum Assured</h4>
                <ng-form id="step2" name="step2">
                    <div class="row">
                        <div class="form-group required col-md-3">
                            <label class="control-label">Defined Sum Assured Type</label>
                            <select ng-model="plan.sumAssured.sumAssuredType" ng-required="true" class="form-control input-sm">
                                <option value="SPECIFIED_VALUES">Specified Values</option>
                                <option value="RANGE">Specified Range</option>
                            </select>
                        </div>
                    </div>
                    <br/>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default" ng-hide="isSumAssuredTypeRange()">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Sum Assured Values</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="control-group required col-md-12">
                                        <label class="control-label">Sum Assured</label>

                                        <div class="controls">
                                            <tags-input class="bootstrap col-sm-12 ti-input-lg"
                                                        ng-model="plan.sumAssured.sumAssuredValue"
                                                        min-tags="1"
                                                        placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default" ng-show="isSumAssuredTypeRange()">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Sum Assured Range</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="control-group required col-md-4">
                                        <label class="control-label" for="groupTerm">Minimum Sum Assured</label>

                                        <div class="controls">
                                            <input type="text" ng-pattern="onlyNumbers" class="form-control input-sm  col-sm-3"
                                                   ng-model="plan.sumAssured.minSumInsured"
                                                   ng-disabled="!isSumAssuredTypeRange()"/>
                                        </div>
                                    </div>
                                    <div class="control-group required  col-md-4">
                                        <label class="control-label" for="groupTerm">Maximum Sum Assured</label>

                                        <div class="controls">
                                            <input type="text" ng-pattern="onlyNumbers" class="form-control input-sm col-sm-3"
                                                   ng-model="plan.sumAssured.maxSumInsured"
                                                   ng-disabled="!isSumAssuredTypeRange()"/>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-4">
                                        <label class="control-label" for="groupTerm">Multiples of</label>

                                        <div class="controls">
                                            <input type="text" class="form-control input-sm col-sm-3"
                                                   ng-model="plan.sumAssured.multiplesOf"
                                                   ng-disabled="!isSumAssuredTypeRange()"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-form>
            </div>
            <div class="step-pane" data-step="3">
                <h4>Policy Term</h4>
                <ng-form id="step3" name="step3">
                    <div class="row">
                        <div class="control-group col-sm-3">
                            <label class="control-label" for="groupTerm">Group Term</label>

                            <div class="controls">
                                <input type="text" class="form-control input-sm col-sm-3" id="groupTerm" ng-model="groupTerm"
                                       ng-disabled="{{clientType=='GROUP'}}"/>
                            </div>
                        </div>
                        <div class="control-group required col-md-3">
                            <label class="control-label" for="groupTerm">Defined Sum Assured Type</label>

                            <div class="controls">
                                <select ng-model="plan.policyTermType" ng-required="true" class="form-control input-sm col-sm-3">
                                    <option value="SPECIFIED_VALUES">Specified Values</option>
                                    <option value="MATURITY_AGE_DEPENDENT">Dependent on Maturity Age</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default" ng-if="!isPolicyTermByValue()" style="margin-top: 12px">
                        <div class="panel-heading">Policy Term Based on Age</div>
                        <div class="panel-body">
                            <div class="control-group col-sm-12">
                                <label class="control-label" for="groupTerm">Various Maturity Ages</label>

                                <div class="controls">
                                    <tags-input class="col-sm-12 ti-input-lg"
                                                ng-model="plan.premiumTerm.maturityAges"
                                                placeholder="Add a number" allow-leftover-text="false"
                                                allowed-tags-pattern="^[0-9]+$"></tags-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>

                    <div class="panel panel-default" ng-if="isPolicyTermByValue()">
                        <div class="panel-heading">Policy Term Based on Term Values</div>
                        <div class="panel-body">
                            <div class="control-group col-sm-3">
                                <label class="control-label">Maximum Maturity Age</label>

                                <div class="controls">
                                    <input type="text" class="form-control input-sm col-sm-3" style="margin-top: 8px"
                                           ng-model="plan.policyTerm.maxMaturityAge"/>
                                </div>
                            </div>
                            <div class="control-group col-sm-9">
                                <label class="control-label">Policy Term Values</label>

                                <div class="controls">
                                    <tags-input class="col-sm-9 ti-input-lg"
                                                ng-model="plan.policyTerm.validTerms"
                                                ng-disabled="isPolicyTermByValue()"
                                                min-tags="0" placeholder="Add a number" allow-leftover-text="false"
                                                allowed-tags-pattern="^[0-9]+$"></tags-input>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-form>
            </div>
            <div class="step-pane" data-step="4">
                <h4>Premium Payment Term</h4>
                <ng-form id="step4" name="step4">
                    <div class="row">
                        <div class="control-group col-md-3">
                            <label class="control-label" for="groupTerm">Premium Payment Term Type</label>

                            <div class="controls">
                                <select ng-model="plan.premiumTermType" class="form-control input-sm  col-sm-3">
                                    <option value="REGULAR">Regular</option>
                                    <option value="SINGLE">Single</option>
                                    <option value="SPECIFIED_VALUES">Specified Values</option>
                                    <option value="SPECIFIED_AGES">Specified Ages</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <br/>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default" ng-show="isPaymentTermByValue()">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Premium Payment Term Values</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="control-group required col-md-3">
                                        <label class="control-label" for="groupTerm">Premium Payment Cutoff Age</label>

                                        <div class="controls">
                                            <input type="text" class="form-control col-sm-3"
                                                   ng-model="plan.premiumTerm.maxMaturityAge"/>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-9">
                                        <label class="control-label">Payment Terms</label>

                                        <div class="controls">
                                            <tags-input class="ti-input-lg col-sm-9"
                                                        ng-model="plan.premiumTerm.validTerms"
                                                        min-tags="0" placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default" ng-hide="isPaymentTermByValue()">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Premium Payment Term Age</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="control-group required col-md-12">
                                        <label class="control-label" for="groupTerm">Premium Ages</label>

                                        <div class="controls">
                                            <tags-input class=" col-sm-12"
                                                        ng-model="plan.premiumTerm.maturityAges"
                                                        min-tags="0" placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default" ng-show="isPaymentTermByValue()">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Premium Payment Term Values</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="control-group required col-md-3">
                                        <label class="control-label" for="groupTerm">Premium Payment Cutoff Age</label>

                                        <div class="controls">
                                            <input type="text" class="form-control col-sm-3"
                                                   ng-model="plan.premiumTerm.maxMaturityAge"/>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-9">
                                        <label class="control-label">Payment Terms</label>

                                        <div class="controls">
                                            <tags-input class="ti-input-lg col-sm-9"
                                                        ng-model="plan.premiumTerm.validTerms"
                                                        min-tags="0" placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-form>
            </div>
            <div class="step-pane" data-step="5">
                <h4>Coverage<span class="badge">{{plan.coverages.length}}</span></h4>
                <ng-form id="step5" name="step5">
                    <accordion close-others="true">
                        <accordion-group heading="Coverages" is-open="true">
                            <table class="table table-bordered table-condensed  table-striped">
                                <thead>
                                <tr>
                                    <td> Coverage Cover</td>
                                    <td> Cover Type</td>
                                    <td> Deductible Type</td>
                                    <td> Coverage Type</td>
                                    <td> Sum Assured Type</td>
                                    <td> Action</td>
                                </tr>
                                </thead>
                                <tr ng-repeat="coverage in plan.coverages">
                                    <td>{{coverage.coverageCover}}</td>
                                    <td>{{coverage.coverageType}}</td>
                                    <td>{{coverage.deductibleType}}</td>
                                    <td> {{coverage.coverageType}}</td>
                                    <td> {{coverage.sumAssuredType}}</td>
                                    <td>
                                        <button type="button" class="btn btn-default btn-xs"
                                                ng-click="editPlanCoverage(coverage)">
                                            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </accordion-group>

                        <accordion-group heading="Configure New Coverage">
                            <div class="row">
                                <div class="control-group required col-md-2">
                                    <label class="control-label">Coverage</label>

                                    <div class="controls">
                                        <select ng-model="newCoverage.coverage" name="newCoverage"
                                                ng-options="item as item.coverageName for item in coverageList"
                                                class="form-control input-sm  col-sm-3" ng-required="true" ng-change="selectedItem(newCoverage.coverage)">
                                        </select>
                                    </div>
                                </div>
                                <div class="required col-md-3">
                                    <label class="control-label">Cover Type</label>

                                    <div class="radio">
                                        <label>
                                            <input type="radio" name="coverType" ng-model="newCoverage.coverageCover"
                                                   value="ACCELERATED"/> Accelerated
                                        </label>
                                        <label>
                                            <input type="radio" name="coverType" ng-model="newCoverage.coverageCover"
                                                   value="ADDITIONAL"/> Additional
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group required col-md-4">
                                    <label class="control-label">Deductible Type</label>

                                    <div class="controls">
                                        <label class="radio-inline">
                                            <input type="radio" name="deductibleType"
                                                   ng-model="newCoverage.deductibleType" value="AMOUNT"/>Amount
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="deductibleType"
                                                   ng-model="newCoverage.deductibleType" value="PERCENTAGE"/>% of
                                            Claimed
                                            Amount
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group required col-md-2">
                                    <label class="control-label">Minimum Entry Age</label>

                                    <div class="controls">
                                        <input type="number" ng-model="newCoverage.minAge" class="form-control input-sm"
                                                ng-required="true" name="minEntryAge"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="control-group required col-md-2">
                                    <label class="control-label">Coverage Type</label>

                                    <div class="controls">
                                        <label class="radio-inline">
                                            <input type="radio" name="coverageType" ng-model="newCoverage.coverageType"
                                                   value="BASE"/> Base
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="coverageType" ng-model="newCoverage.coverageType"
                                                   value="OPTIONAL"/> Optional
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group required col-md-3">
                                    <label class="control-label">Tax Applicable</label>

                                    <div class="controls">
                                        <label class="radio-inline">
                                            <input type="radio" value="true" name="taxApplicable" ng-model="newCoverage.taxApplicable" ng-required="true"/>Yes
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" value="false" name="taxApplicable" ng-model="newCoverage.taxApplicable"/>No
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group col-md-2">
                                    <label class="control-label">Deductible</label>

                                    <div class="controls">
                                        <input type="number"
                                               ng-model="newCoverage.deductiblePercentage"
                                               class="form-control input-sm"/>
                                    </div>
                                </div>
                                <div class="control-group col-md-2">
                                    <label class="control-label">Waiting Period</label>

                                    <div class="controls">
                                        <input type="text" ng-pattern="onlyNumbers" ng-model="newCoverage.waitingPeriod"
                                               class="form-control input-sm"/>

                                        <p class="help">(in years)</p>
                                    </div>
                                </div>
                                <div class="control-group required col-md-2">
                                    <label class="control-label">Maximum Entry Age</label>

                                    <div class="controls">
                                        <input type="number" ng-model="newCoverage.maxAge" class="form-control input-sm" name="maxEntryAge"
                                               ng-required="true" min="{{newCoverage.minAge}}"/>
                                    </div>
                                </div>
                            </div>
                            <accordion close-others="true">
                                <accordion-group heading="Coverage Sum Assured" is-open="true">
                                    <div class="row">
                                        <div class="control-group required col-md-3">
                                            <label class="control-label">Sum Assured Type</label>
                                            <select ng-model="newCoverage.sumAssured.sumAssuredType"
                                                    class="form-control input-sm col-sm-3" name="sumAssured" ng-required="true">
                                                <option value="SPECIFIED_VALUES">Specified Values</option>
                                                <option value="RANGE">Specified Range</option>
                                                <option value="DERIVED">% of the Product Sum Assured</option>
                                            </select>
                                        </div>
                                        <div class="control-group required col-md-9">
                                            <label class="control-label">Sum Assured Value</label>

                                            <div class="controls">
                                                <tags-input class="col-md-9"
                                                            ng-model="newCoverage.sumAssured.sumAssuredValue"
                                                            placeholder="Add a number"
                                                            min-tags="1"
                                                            allow-leftover-text="false"
                                                            allowed-tags-pattern="^[0-9]+$"></tags-input>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="control-group required col-md-3">
                                            <label class="control-label">Minimum Sum Assured</label>

                                            <div class="controls">
                                                <input type="text" ng-model="newCoverage.sumAssured.minSumInsured"
                                                       name="minSumAssured"
                                                       class="form-control input-sm"
                                                       ng-disabled="isCoverageSumAssuredDisabled('RANGE')"
                                                       ng-pattern="onlyNumbers"
                                                       ng-required="!isCoverageSumAssuredDisabled('RANGE')"/>
                                            </div>
                                        </div>
                                        <div class="control-group required col-md-3">
                                            <label class="control-label">Maximum Sum Assured</label>

                                            <div class="controls">
                                                <input type="text" ng-model="newCoverage.sumAssured.maxSumInsured"
                                                       class="form-control input-sm"
                                                       ng-disabled="isCoverageSumAssuredDisabled('RANGE')"
                                                       ng-pattern="onlyNumbers"
                                                       ng-required="!isCoverageSumAssuredDisabled('RANGE')"/>
                                            </div>
                                        </div>
                                        <div class="control-group col-md-3">
                                            <label class="control-label">Multiples Of</label>

                                            <div class="controls">
                                                <select ng-model="newCoverage.sumAssured.multiplesOf"
                                                        ng-disabled="isCoverageSumAssuredDisabled('RANGE')"
                                                        class="form-control input-sm">
                                                    <option value="1000">1000</option>
                                                    <option value="10000">10000</option>
                                                    <option value="100000">100000</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="control-group required col-md-3">
                                            <label class="control-label">% of Plan Sum Assured</label>

                                            <div class="controls">
                                                <input type="text" ng-model="newCoverage.sumAssured.percentage"
                                                       class="form-control input-sm"
                                                       ng-disabled="isCoverageSumAssuredDisabled('PERCENTAGE')"
                                                       ng-pattern="onlyNumbers"
                                                       ng-required="!isCoverageSumAssuredDisabled('PERCENTAGE')"/>
                                            </div>
                                        </div>
                                        <div class="control-group required col-md-3">
                                            <label class="control-label">Max Limit</label>

                                            <div class="controls">
                                                <input type="text" ng-model="newCoverage.sumAssured.maxLimit"
                                                       class="form-control input-sm"
                                                       ng-disabled="isCoverageSumAssuredDisabled('PERCENTAGE')"
                                                       ng-pattern="onlyNumbers"
                                                       ng-required="!isCoverageSumAssuredDisabled('PERCENTAGE')"/>
                                            </div>
                                        </div>
                                    </div>
                                </accordion-group>
                                <accordion-group heading="Coverage Term">
                                    <div class="control-group required col-md-4">
                                        <label class="control-label">Coverage Term Type</label>

                                        <div class="controls">
                                            <select ng-model="newCoverage.coverageTermType"
                                                    class="form-control input-sm" ng-required="true" name="coverageTermType">
                                                <option value="SPECIFIED_VALUES">Specified Values</option>
                                                <option value="AGE_DEPENDENT">Maturity Age Dependent</option>
                                                <option value="POLICY_TERM">Policy Term</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-12">
                                        <label class="control-label">Maturity Age</label>

                                        <div class="controls">
                                            <tags-input class="col-md-12"
                                                        ng-model="newCoverage.coverageTerm.maturityAges"
                                                        min-tags="1" placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-9">
                                        <label class="control-label">Coverage Term Values</label>

                                        <div class="controls">
                                            <tags-input class="col-md-9"
                                                        ng-model="newCoverage.coverageTerm.validTerms"
                                                        min-tags="1" placeholder="Add a number"
                                                        allow-leftover-text="false"
                                                        allowed-tags-pattern="^[0-9]+$"></tags-input>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-3">
                                        <label class="control-label">Maximum Maturity Age</label>

                                        <div class="controls">
                                            <input type="number" ng-model="newCoverage.coverageTerm.maxMaturityAge"
                                                   class="form-control input-sm"
                                                   ng-required="true"/>
                                        </div>
                                    </div>
                                </accordion-group>
                                <accordion-group heading="Coverage Maturity">
                                    <button class="btn btn-default btn-sm" ng-click="addMaturityRow()">
                                        <span class="glyphicon glyphicon-plus"></span>
                                    </button>
                                    <table class="table table-bordered table-condensed  table-striped">
                                        <thead>
                                        <tr>
                                            <td><label>Partial Maturity Year</label></td>
                                            <td><label>Guaranteed Survival Benefit</label>

                                                <p class="help">Guaranteed periodic survival benefit Amount
                                                    (Percentage Of Sum Insured)</p>
                                            </td>
                                            <td></td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="newMaturityAmount in newCoverage.maturityAmounts">
                                            <td>
                                                <input type="text" ng-model="maturityYear"
                                                       class="form-control input-sm"
                                                       ng-pattern="onlyNumbers" ng-required="true"/>
                                            </td>
                                            <td>
                                                <input type="text" ng-model="guaranteedSurvivalBenefitAmount"
                                                       class="form-control input-sm"
                                                       ng-pattern="onlyNumbers" ng-required="true"/>

                                            </td>
                                            <td>
                                                <button type="button" class="btn btn-default btn-xs btn-danger"
                                                        ng-click="removeMaturityRow()">Remove
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </accordion-group>
                            </accordion>
                            <p class="pager" style="line-height:10px;">
                                <button type="button btn-primary" class="btn btn-default"
                                        ng-click="addCoverage()">Add
                                </button>
                            </p>
                        </accordion-group>
                    </accordion>
                </ng-form>
            </div>
            <div class="step-pane" data-step="6">
                <h4>Benefit Configuration</h4>
                <ng-form id="step6" name="step6">
                    <accordion close-others="true">
                        <accordion-group heading="Coverages" is-open="true">
                            <table class="table table-bordered table-condensed  table-striped">
                                <thead>
                                <tr>
                                    <td> Coverage</td>
                                    <td> Benefit</td>
                                    <td> Limit Defined</td>
                                    <td> Limit Type</td>
                                    <td> Benefit Limit</td>
                                    <td> Maximum Limit</td>
                                </tr>
                                </thead>
                                <tr ng-repeat="benefit in getAllBenefits()">
                                    <td>{{benefit.benefitId}}</td>
                                    <td>{{benefit.definedPer}}</td>
                                    <td>{{benefit.coverageBenefitType}}</td>
                                    <td> {{benefit.benefitLimit}}</td>
                                    <td> {{benefit.maxLimit}}</td>
                                    <td>
                                        <button type="button" class="btn btn-default btn-xs"
                                                ng-click="editPlanCoverage(coverage)">
                                            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </accordion-group>
                        <accordion-group heading="Configure New Benefit">
                            <form name="benefitForm">
                                <div class="row">
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Coverage</label>

                                        <div class="controls">
                                            <select ng-model="selectedCoverage"
                                                    ng-options="item as item.coverage.coverageName for item in plan.coverages track by item.coverage.coverageId"
                                                    class="form-control input-sm">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Benefits</label>

                                        <div class="controls">
                                            <select ng-model="newPlanCoverageBenefit.benefitId" class="form-control input-sm"
                                                    ng-options="benefit.benefitId as benefit.benefitName for benefit in benefits">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Limit Defined</label>

                                        <div class="controls">
                                            <select class="form-control input-sm" ng-model="newPlanCoverageBenefit.definedPer">
                                                <option value="INCIDENCE">Per Incidence</option>
                                                <option value="DAY">Per Day</option>
                                                <option value="YEAR">Per Year</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Limit Type</label>

                                        <div class="controls">
                                            <select class="form-control input-sm"
                                                    ng-model="newPlanCoverageBenefit.coverageBenefitType">
                                                <option value="AMOUNT">Amount</option>
                                                <option value="PRODUCT_LIMIT">Percentage of Plan Limit</option>
                                                <option value="COVERAGE_LIMIT">Percentage of Coverage Limit</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Benefit Limit</label>

                                        <div class="controls">
                                            <input type="text" class="form-control input-sm"
                                                   ng-model="newPlanCoverageBenefit.benefitLimit"
                                                   ng-pattern="onlyNumbers"/>
                                        </div>
                                    </div>
                                    <div class="control-group required col-md-6">
                                        <label class="control-label">Maximum Limit</label>

                                        <div class="controls">
                                            <input type="text" class="form-control input-sm"
                                                   ng-model="newPlanCoverageBenefit.maxLimit"
                                                   ng-pattern="onlyNumbers"/>
                                        </div>
                                    </div>

                                    <button class="btn btn-default btn-sm" ng-click="addBenefit()">Add</button>
                                    <button class="btn btn-primary btn-sm" ng-click="createPlan()">SUBMIT</button>
                                </div>
                                <p class="pager" style="line-height:10px;">
                                    <button class="btn btn-default btn-sm" ng-click="addBenefit()">
                                        <span class="glyphicon glyphicon-add" aria-hidden="true">Add</span>
                                    </button>
                                </p>
                            </form>
                        </accordion-group>
                    </accordion>
                </ng-form>
            </div>
        </div>
    </div>
</form>
