<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml" >
<head th:include="fragments/common :: headTag">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.5/js/jquery.dataTables.min.js"></script>
    <script src="http://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js"></script>


</head>
<body class="fuelux ng-cloak" style="overflow-x: hidden;">
<div th:include="fragments/common :: bodyHeader" th:remove="tag"/>
<script th:inline="javascript">
    /*<![CDATA[*/
    var isNumeric = function (evt) {

        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode == 13) {
            evt.preventDefault();
        }


        if (charCode > 31 && charCode != 8 && charCode != 0 && (charCode < 48 || charCode > 57 ))
            return false;
        return true;
    }
    /*]]>*/

</script>
<script>
    var isEnterKey = function (event) {
        var charCode = (event.which) ? event.which : event.keyCode;

        if (charCode == 13) {
            event.preventDefault();
        }
    }

    requirejs(['main','angular-file-upload'],function(){
        require(['/pla/js/grouplife/claim/claimIntimation.js?t=7'], function () {
            angular.element(document).ready(function() {
                angular.bootstrap(document, ['claimIntimation']);
            });
        });
    });




</script>
<style>
    .my-form {
        transition:all linear 0.5s;
        background: transparent;
    }
    .my-form.ng-invalid {
        border-color: red;
    }
</style>
<script type="text/ng-template" id="claimintimation.html">
    <nth-alert></nth-alert>
    <form name="quotationForm" novalidate="true" class="css-form ng-cloak" method="post" enctype="multipart/form-data">
        <div class="wizard fueluxWizard" style="overflow: visible" selected-item="selectedItem">
            <ul class="steps" style="margin-left: 0">
                <li data-step="1"><span class="badge badge-info">1</span>Claimant Details<span class="chevron"></span>
                </li>
                <li data-step="2"><span class="badge">2</span>Assured Details<span class="chevron"></span></li>
                <li data-step="3"><span class="badge">3</span>Mandatory Document<span class="chevron"></span></li>
            </ul>
            <div class="actions">
                <span style="font-weight: bolder;margin-right: 15px;color: #999">Claim ID: <span
                        style="font-size: 13px;color: #3a87ad;">{{proposalNumber}}<span
                        ng-show="versionNumber &amp;&amp; versionNumber!=0">/{{versionNumber}}</span></span></span>
                <button type="button" class="btn btn-default btn-prev" disabled="disabled"><span
                        class="glyphicon glyphicon-arrow-left"></span>Prev
                </button>
                <button type="button" class="btn btn-default btn-next" >Next<span
                        class="glyphicon glyphicon-arrow-right"></span></button>
                <!-- -->
            </div>
            <div class="step-content ng-cloak">
                <div class="step-pane active" data-step="1">
                    <ng-form name="step1">
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatusDocuments.documents">
                                <accordion-heading>
                                    Claim Details <i class="pull-right glyphicon"
                                                     ng-class="{'glyphicon-chevron-down': accordionStatusDocuments.documents,
                                                            'glyphicon-chevron-right': !accordionStatusDocuments.documents}"></i>
                                </accordion-heading>
                                <div class="bs-callout  bs-callout-info" style="overflow:auto;height:240px;"
                                     disable-all-fields="isViewMode">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Claim Type</label>
                                                <select  class="form-control input-sm" ng-model="claimType" name="claimType"
                                                        ng-options="claimTypeDetail.claimType as claimTypeDetail.claimType for claimTypeDetail in claimTypeDetailsResponse">

                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Claim intimation Date</label>
                                                <div class='input-group date'>
                                                    <input type="text" class="form-control input-sm" ng-required="true"
                                                           ng-click="open($event)" max-date="minIntimationDate" datepicker-popup="dd/MM/yyyy"
                                                           ng-model="claimIntimationDate"
                                                           datepicker-options="datePickerSettings.dateOptions"
                                                           is-open="datePickerSettings.isOpened" close-text="Close"
                                                           show-button-bar="false"
                                                           onkeypress="return isNumeric(event)"/>
                                        <span class="input-group-btn">
                                      <button type="button" class="btn btn-default btn-sm" ng-click="open($event)"><i
                                              class="glyphicon glyphicon-calendar"></i></button>&nbsp;&nbsp;
                                   </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Policy Number</label>
                                                <input class="form-control input-md" id="policy_number"
                                                       name="policyNumber"
                                                       ng-model="policyNumber"
                                                       type="text" ng-disabled="true"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group  ">
                                                <label class="control-label">Category</label>
                                                <select  class="form-control input-sm" ng-model="claimDetails.category" name="category"
                                                         ng-options="category for category in claimDetailsResponse.category">

                                                </select>
                                                      </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group  ">
                                                <label class="control-label">Relationship</label>
                                                <select  class="form-control input-sm" ng-model="claimDetails.relationship" name="relationship"
                                                         ng-options="relationships for relationships in claimDetailsResponse.relationship">


                                            </select>
                                                </div>
                                        </div>

                                        <div class="col-md-4" style="margin-top:21px;">
                                            <button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="claimintimationModal" ng-click="showAsssuredSearchModal()">Assured Search</button>
                                        </div>


                                    </div>

                                    <div id="claimintimationModal" class="modal fade" role="dialog">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">  Assured Search</h4>
                                                </div>
                                                <div class="modal-body">

                                                    <div class="row">



                                                        <table class="table table-striped table-bordered" id="assured-table" cellspacing="0" width="100%">
                                                            <thead>
                                                            <tr>
                                                                <th style="width: 1%"></th>
                                                                <th th:text="#{assuredFirstName}">Assured FirstName</th>
                                                                <th th:text="#{assuredSurName}">Assured SurName</th>
                                                                <th th:text="#{assuredDob}">Assured DOB</th>
                                                                <th th:text="#{assuredClientId}">Assured ClientID</th>
                                                                <th th:text="#{assuredNrc}">Assured NRC</th>
                                                                <th th:text="#{assuredManNumber}">Assured MAN Number</th>


                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <form id="viewAssuredForm">
                                                                <tr>


                                                                </tr>
                                                            </form>
                                                            </tbody>
                                                        </table>

                                              </div>


                                                </div> <!--</modal body end>-->
                                                <div class="modal-footer">
                                                    <div class="row">
                                                        <div class="col">
                                                    <!--<button type="button" class="btn btn-default" data-dismiss="modal" style="margin-right:860px">Search</button>-->

                                                                <!--<a type="button" class="btn btn-default btn-sm " onclick="viewAssuredSearch.createUpdateclaim()">Create</a>-->

                                                        </div>
                                                        <div class="col">
                                                    <!--<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>-->
                                                </div></div></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </accordion-group>
                        </accordion>
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatusDocuments.additionalDocuments" ng-form="claimantForm" class="my-form">
                                <accordion-heading>
                                    Claimant Details <i class="pull-right glyphicon"
                                                        ng-class="{'glyphicon-chevron-down': accordionStatusDocuments.additionalDocuments, 'glyphicon-chevron-right': !accordionStatusDocuments.additionalDocuments}"></i>
                                </accordion-heading>

                                    <div class="col-md-6">
                                            <div class="form-group required">
                                                <label class="control-label">Proposer Name</label>
                                                <input type="text" class="form-control input-sm" name="proposerName"
                                                       ng-model="claimantDetail.proposerName" ng-required="true"/>
                                            </div>
                                            <div class="form-group required">
                                                <label class="control-label">Address Line 2</label>
                                                <input type="text" class="form-control input-sm" name="addressLine2" ng-model="claimantDetail.addressLine2" ng-maxlength="100" ng-required="true"/>
                                                <div class="error" ng-messages="claimantForm.addressLine2.$error" ng-if="claimantForm.addressLine2.$dirty">
                                                    <small class="error" ng-message="required">Please enter Address Line 2</small>
                                                    <small ng-message="maxlength">Only 100 characters are allowed.</small>
                                                </div>
                                            </div>
                                        <div class="form-group required">
                                            <label class="control-label">Province</label>
                                            <select class="form-control input-sm" name="province" ng-options="province.provinceId as province.provinceName for province in provinces"
                                                    ng-model="claimantDetail.province" ng-required="true" ng-init="getProvinceValue(claimantDetail.province)" ng-change="getProvinceValue(claimantDetail.province)">
                                            </select>
                                            <div class="error" ng-messages="claimantForm.province.$error" ng-if="claimantForm.province.$dirty">
                                                <small class="error" ng-message="required">Please enter Province</small>
                                            </div>
                                        </div>
                                        <div class="form-group required">
                                            <label class="control-label">email Address</label>
                                            <input type="email" class="form-control input-sm"
                                                   ng-required="true" name="emailAddress" ng-model="claimantDetail.emailId"/>

                                            <div class="error" ng-messages="claimantForm.emailAddress.$error"  ng-if="claimantForm.emailAddress.$dirty">
                                                <small class="error" ng-message="email">Please enter  Valid email address. </small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Contact Person Details</label>
                                            <input type="text" class="form-control input-sm"
                                                   ng-required="true" name="contactPersonDetail" ng-maxlength="100" ng-model="claimantDetail.contactPersonName" />

                                            <div class="error" ng-messages="claimantForm.contactPersonDetail.$error"  ng-if="claimantForm.contactPersonDetail.$dirty">
                                                <small class="error" ng-message="email">Please enter  Contact Person Details. </small>
                                            </div>
                                        </div>
                                        <div class="form-group required">
                                            <label class="control-label">Mobile Number</label>
                                            <input type="text" class="form-control input-sm" name="mobileNumber" ng-pattern="/^\d+$/"
                                                   maxlength="10" ng-minlength="10" ng-maxLength="10" ng-model="claimantDetail.mobileNumber"/>
                                            <div class="error" ng-messages="claimantForm.mobileNumber.$error" ng-if="claimantForm.mobileNumber.$dirty">
                                                <small class="error" ng-message="required">Please enter Mobile Number</small>
                                                <small ng-message="maxlength">Only 10 number are allowed.</small>
                                                <small ng-message="minlength">Minimum 10 number are allowed.</small>
                                                <small ng-message="pattern">Please enter a valid mobile number.</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group required">
                                            <label class="control-label">Address Line 1</label>
                                            <input type="text" class="form-control input-sm"
                                                    name="addressLine1" ng-model="claimantDetail.addressLine1" ng-maxlength="100" ng-required="true"/>

                                            <div class="error" ng-messages="claimantForm.addressLine1.$error" ng-if="claimantForm.addressLine1.$dirty">
                                                <small class="error" ng-message="required">Please enter Address Line 2</small>
                                                <small ng-message="maxlength">Only 100 characters are allowed.</small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Postal Code</label>
                                            <input type="text" class="form-control input-sm" name="postalCode" ng-pattern="/^\d+$/" ng-maxlength="7" ng-model="claimantDetail.postalCode"/>
                                            <div class="error" ng-messages="claimantForm.postalCode.$error" ng-if="claimantForm.postalCode.$dirty">
                                                <small ng-message="maxlength">Only 7 characters are allowed.</small>
                                                <small ng-message="pattern">Only Numeric are allowed.</small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Town</label>
                                            <select class="form-control input-sm" name="town" ng-disabled="mode=='new'||mode=='view'" ng-required="true" ng-model="claimantDetail.town"
                                                    ng-options="city.geoId as city.geoName for city in towns"/>

                                            <div class="error" ng-messages="claimantForm.town.$error" ng-if="claimantForm.town.$dirty">
                                                <small class="error" ng-message="required">Please enter Town</small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Work phone</label>
                                            <input type="text" class="form-control input-sm" name="workPhone" ng-required="true" ng-minlength="10" maxlength="10" ng-maxlength="10" ng-pattern="/^\d+$/"
                                                   ng-model="claimantDetail.workPhone"/>

                                            <div class="error" ng-messages="claimantForm.workPhone.$error" ng-if="claimantForm.workPhone.$dirty">
                                                <small ng-message="maxlength">Only 10 Number are allowed.</small>
                                                <small ng-message="minlength">Minimum 10 Numbers are allowed.</small>
                                                <small ng-message="pattern">Only Numeric are allowed.</small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Contact Person email Address</label>
                                            <input type="email" class="form-control input-sm"
                                                   ng-required="true" name="contactemailAddress" ng-model="claimantDetail.contactPersonEmail"/>

                                            <div class="error" ng-messages="claimantForm.contactemailAddress.$error"  ng-if="claimantForm.contactemailAddress.$dirty">
                                                <small class="error" ng-message="email">Please enter  Valid email address. </small>
                                            </div>
                                        </div>
                                        <div class="form-group required">
                                            <label class="control-label">Contact Person Work phone</label>
                                            <input type="text" class="form-control input-sm" name="contactPersonWorkPhone" ng-required="true" ng-minlength="10" maxlength="10" ng-maxlength="10" ng-pattern="/^\d+$/"
                                                   ng-model="claimantDetail.contactPersonPhone"/>

                                            <div class="error" ng-messages="claimantForm.contactPersonWorkPhone.$error" ng-if="claimantForm.contactPersonWorkPhone.$dirty">
                                                <small ng-message="maxlength">Only 10 Number are allowed.</small>
                                                <small ng-message="minlength">Minimum 10 Numbers are allowed.</small>
                                                <small ng-message="pattern">Only Numeric are allowed.</small>
                                            </div>
                                        </div>
                                    </div>
                            </accordion-group>
                        </accordion>
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatusDocuments.policydetails">
                                <accordion-heading>
                                    Policy Details <i class="pull-right glyphicon"
                                                      ng-class="{'glyphicon-chevron-down': accordionStatusDocuments.policyDetails, 'glyphicon-chevron-right': !accordionStatusDocuments.policyDetails}"></i>
                                </accordion-heading>
                                <div class="bs-callout  bs-callout-info" style="overflow:auto;height:250px;"
                                     disable-all-fields="isViewMode">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group" style="margin-left:8px">
                                                <label class="control-label">Plan</label>
                                                <!--<input-->
                                                <!--type="text"-->
                                                <!--name="plan"-->
                                                <!--ng-model="planDetail.plan"-->
                                                <!--class="form-control input-md" />-->
                                                <!--<div class="error"-->
                                                <!--ng-show="step1.plan.$dirty &amp;&amp; step1.plan.$invalid">-->
                                                <!--<small class="error" ng-show="step1.plan.$error.required">-->
                                                <!--Please select the plan.-->
                                                <!--</small>-->
                                                <!--</div>-->


                                                <input type="text" class="form-control input-sm" maxlength="13" minlength="13"
                                                       name="plan" onkeypress="return isEnterKey(event)"
                                                       ng-pattern="numberPattern"
                                                       ng-model="planDetail.plan"/>



                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Sum Assured</label>
                                                <input
                                                        name="sumAssured"
                                                        type="text"
                                                        class="form-control input-md"
                                                        ng-model="planDetail.sumAssured"
                                                        >
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step1.sumAssured.$dirty &amp;&amp; step1.sumAssured.$invalid">-->
                                                <!--<small class="error" ng-show="step1.sumAssured.$error.required">-->
                                                <!--Please select the Sum Assured.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <table  class="table table-bordered table-hover">
                                        <thead><tr>
                                            <th>Optional cover active</th>
                                            <th>Optional cover sum assured</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="pla in items" >
                                            <td>{{pla.assuredNumber}}</td>
                                            <td>{{pla.assuredFirst}}</td>

                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </accordion-group>
                        </accordion>

                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatusDocuments.bankdetails" ng-form="bankDetailForm" class="my-form">
                                <accordion-heading>
                                    Bank Details <i class="pull-right glyphicon"
                                                    ng-class="{'glyphicon-chevron-down': accordionStatusDocuments.bankDetails, 'glyphicon-chevron-right': !accordionStatusDocuments.bankDetails}"></i>
                                </accordion-heading>
                                    <div class="col-md-6">
                                        <div class="form-group required">
                                            <label class="control-label">Bank Name</label>
                                            <select class="form-control input-sm" name="bankName" ng-options="bankDetail.bankName as bankDetail.bankName for bankDetail in bankDetails"
                                                    ng-model="bankDetails.bankName"  ng-required="true">
                                            </select>
                                            <div class="error" ng-messages="bankDetailForm.bankName.$error" ng-if="bankDetailForm.bankName.$dirty">
                                                <small class="error" ng-message="required">Please specify Bank Name.</small>
                                            </div>
                                        </div>

                                        <div class="form-group required">
                                            <label class="control-label">Bank Account Type</label>
                                            <select class="form-control input-sm" name="accountType" ng-model="bankDetails.bankAccountType">
                                                <option  value="">Select Account Type</option>
                                                <option  value="SAVING">Saving</option>
                                                <option  value="CURRENT">Current</option>
                                            </select>
                                            <div class="error" ng-messages="bankDetailForm.accountType.$error" ng-if="bankDetailForm.accountType.$dirty">
                                                <small class="error" ng-message="required">Please specify account type .</small>
                                            </div>
                                        </div>
                                    </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Bank Branch Name</label>
                                        <select class="form-control input-sm" name="branchname" ng-disabled="mode=='new'||mode=='view'" ng-options="bankBranchDetail.sortCode as bankBranchDetail.branchName for bankBranchDetail in bankBranchDetails"
                                                ng-model="bankDetails.bankBranchName" ng-selected="bankBranchDetail.branchName" ng-required="true">
                                        </select>
                                        <div class="error" ng-messages="bankDetailForm.branchname.$error" ng-if="bankDetailForm.branchname.$dirty">
                                            <small class="error" ng-message="required">Please specify Bank Branch Name.</small>
                                        </div>
                                    </div>

                                    <div class="form-group required">
                                        <label class="control-label">Bank Account Number</label>
                                        <input type="text" class="form-control input-sm" ng-required="true" ng-model="bankDetails.bankAccountNumber" ng-maxlength="17" name="bankAccountNumber"/>

                                        <div class="error" ng-messages="bankDetailForm.bankAccountNumber.$error" ng-if="bankDetailForm.bankAccountNumber.$dirty">
                                            <small class="error" ng-message="required">Please specify Bank Branch Name.</small>
                                            <small class="error" ng-message="maxlength">Upto 17 Character Allow.</small>
                                        </div>
                                    </div>
                                </div>
                            </accordion-group>
                        </accordion>
                    </ng-form>
                    <div class="row">
                        <div class="col-sm-6">
                            <button type="button" class="btn btn-default btn-sm" ng-click="back()">Cancel</button>
                        </div>
                        <div class="col-sm-6">
                            <button type="button" class="btn btn-default btn-sm" style="float: right"
                                    ng-click="saveClaimDetails()"
                                    >Save
                            </button>
                        </div>

                    </div>
                </div>



                <div class="step-pane" data-step="2">
                    <ng-form name="step2">
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatus.claimantDetails" ng-form="assuredDetailForm">
                                <accordion-heading>
                                    Claimant Details <i class="pull-right glyphicon"
                                                        ng-class="{'glyphicon-chevron-down': accordionStatus.claimantDetails, 'glyphicon-chevron-right': !accordionStatus.claimantDetails}"></i>
                                </accordion-heading>
                                <div class="bs-callout  bs-callout-info" style="overflow:auto;height:340px;"
                                     disable-all-fields="isViewMode">


                                    <!--<accordion-group is-open="accordionStatus.proposerDetails.employment" ng-form="proposerEmploymentForm">-->
                                    <!--<accordion-heading>-->
                                    <!--Employment Details <i class="pull-right glyphicon"-->
                                    <!--ng-class="{'glyphicon-chevron-down': accordionStatus.proposerDetails.employment, 'glyphicon-chevron-right': !accordionStatus.proposerDetails.employment}"></i>-->
                                    <!--</accordion-heading>-->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Title</label>
                                                <select class="form-control input-sm" name="title"
                                                        ng-model="assured.title"
                                                        ng-options="title as title for title in titles" ng-change="getProposerGender(assured.title)">
                                                </select>
                                                <!--<div class="error" ng-messages="assuredDetailForm.title.$error" ng-if="assuredDetailForm.title.$dirty">-->
                                                <!--<small ng-message="required">Please enter Title</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">First Name</label>
                                                <input type="text" class="form-control input-sm"  name="firstName" ng-pattern="/[a-zA-Z]/"
                                                       ng-maxlength="20" ng-model="assured.firstName" />

                                                <!--<div class="error" ng-messages="assuredDetailForm.firstName.$error" ng-if="assuredDetailForm.firstName.$dirty">-->
                                                <!--<small class="error" ng-message="required">-->
                                                <!--Please enter FirstName-->
                                                <!--</small>-->
                                                <!--<small ng-message="maxlength">Only 20 characters are allowed.</small>-->
                                                <!--<small ng-message="pattern">Only alphabets are allowed.</small>-->
                                                <!--</div>-->

                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Surname</label>
                                                <input type="text" class="form-control input-sm"
                                                       name="surname" ng-pattern="/[a-zA-Z]/"
                                                       ng-maxlength="20" ng-model="assured.surname" />

                                                <!--<div class="error" ng-messages="assuredDetailForm.surname.$error" ng-if="assuredDetailForm.surname.$dirty">-->
                                                <!--<small class="error" ng-message="required">Please enter Surname.</small>-->
                                                <!--<small ng-message="maxlength">Only 20 characters are allowed.</small>-->
                                                <!--<small ng-message="pattern">Only alphabets are allowed.</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Date OF Birth</label>
                                                <div class='input-group date'>
                                                    <input type="text" class="form-control input-sm"
                                                           datepicker-popup=""
                                                           view-enabled=""
                                                           is-open="openDob"
                                                           max-date="todayDate"
                                                           ng-model="assured.Dob" name="Dob"/>
                                    <span class="input-group-btn">
                                    <button type="button" class="btn btn-default btn-sm" view-enabled=""
                                            ng-click="showDob($event)">
                                        <i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                                </div>
                                                <!--<div class="error" ng-messages="step2.dob.$error" ng-if="step2.dob.$dirty">-->
                                                <!--<small ng-message="required">Please enter theAssured DOB</small>-->
                                                <!--<small ng-message="date">Invalid Date.</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Age Next Birthday</label>
                                                <input type="text" class="form-control input-sm"
                                                       ng-readonly="true" name="ageNextBirthday" ng-model="assured.nextDob"/>

                                                <p style="color:red" ng-show="ageCalculateStatus">
                                                    Age Next Birthday should be in between 18 years to 60 years.
                                                </p>

                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">NRC</label>
                                                <input type="text" class="form-control input-sm" name="nrc"
                                                       ng-model="assured.nrc" ng-maxlength="11" ng-pattern="/^[0-9]{6}\/[0-9]{2}\/[0-9]{1}$/"
                                                        />

                                                <!--<div class="error" ng-messages="assuredDetailForm.nrc.$error" ng-if="assuredDetailForm.nrc.$dirty">-->
                                                <!--<small class="error" ng-message="required">Please enter NRC.</small>-->
                                                <!--<small ng-message="maxlength">Only 11 characters are allowed.</small>-->
                                                <!--<small ng-message="pattern"> Follw Pattern 999999/99/1</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Sex</label>
                                                <select class="form-control input-sm"  name="gender"
                                                        ng-model="assured.gender" >
                                                    <option value="">Select Gender</option>
                                                    <option value="MALE">Male</option>
                                                    <option value="FEMALE">Female</option>
                                                </select>

                                                <!--<div class="error" ng-messages="assuredDetailForm.gender.$error" ng-if="assuredDetailForm.gender.$dirty">-->
                                                <!--<small class="error" ng-message="required">Please enter Sex</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Sum Assured</label>
                                                <input id="sum_assured1"
                                                       class="form-control input-md"
                                                       name="sumAssured1"
                                                       ng-disabled="true"
                                                       type="text"
                                                       ng-model="assured.sum_assured1" >
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.sumAssured.$dirty &amp;&amp; step2.sumAssured.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.sumAssured.$error.required">-->
                                                <!--Please select the Sum Assured.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>




                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Reserve Amount</label>
                                                <input id="reserve_amounts"
                                                       name="reserveAmount"
                                                       ng-model="assured.reserveAmount"

                                                       ng-disabled="true"
                                                       type="text"
                                                       class="form-control input-md" />
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.sumAssured.$dirty &amp;&amp; step2.sumAssured.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.sumAssured.$error.required">-->
                                                <!--Please select the Sum Assured.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Category</label>
                                                <input id="category"

                                                       ng-disabled="true"
                                                       type="text"
                                                       class="form-control input-md"
                                                       ng-model="assured.category"
                                                       name="category">
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.category.$dirty &amp;&amp; step2.category.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.category.$error.required">-->
                                                <!--Please select the Category.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Man Number</label>
                                                <input id="man_number"
                                                       name="manNumber"
                                                       ng-model="assured.manNumber"

                                                       type="text"
                                                       ng-disabled="true"
                                                       class="form-control input-md" />
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.manNumber.$dirty &amp;&amp; step2.manNumber.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.manNumber.$error.required">-->
                                                <!--Please select the Man Number.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Last Salary</label>
                                                <input id="last_salary"
                                                       type="number"
                                                       class="form-control input-md"
                                                       ng-model="assured.lastSalary"

                                                       pattern="[0-9]{5}"
                                                       maxlength="5"
                                                       name="lastSalary">
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.lastSalary.$dirty &amp;&amp; step2.lastSalary.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.lastSalary.$error.required">-->
                                                <!--Please Enter the Last Salary.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Occupation</label>
                                                <select class="form-control input-sm" name="occupation"
                                                        ng-model="assured.occupation"
                                                        ng-options="occupation.description as occupation.description for occupation in occupations"></select>

                                                <!--<div class="error" ng-messages="assuredDetailForm.occupation.$error" ng-if="assuredDetailForm.occupation.$dirty">-->
                                                <!--<small class="error" ng-message="required">Please enter Occupation</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </accordion-group>
                        </accordion>
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatus.mainAssuredDetails" ng-form="mainAssuredDetailForm">
                                <accordion-heading>
                                    Main Assured Detail <i class="pull-right glyphicon"
                                                           ng-class="{'glyphicon-chevron-down': accordionStatus.mainAssuredDetails, 'glyphicon-chevron-right': !accordionStatus.mainAssuredDetails}"></i>
                                </accordion-heading>
                                <div class="bs-callout  bs-callout-info" style="overflow:auto;height:240px;"
                                     disable-all-fields="isViewMode">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Main Assured Full Name</label>

                                                <input id="assuredFullName"
                                                       name="assuredFullName"

                                                       ng-disabled="true"
                                                       ng-model="assured.assuredFullName"
                                                       class="form-control input-md"/>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.assuredFullName.$dirty &amp;&amp; step2.assuredFullName.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.assuredFullName.$error.required">-->
                                                <!--Please Select the Main Assured Full Name.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Reletionship With Main Assured</label>
                                                <input id="reletionship"
                                                       class="form-control input-md"

                                                       ng-disabled="true"
                                                       ng-model="assured.reletionship"
                                                       name="reletionship">
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.reletionship.$dirty &amp;&amp; step2.reletionship.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.reletionship.$error.required">-->
                                                <!--Please Select the Reletionship With Main Assured.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Main Assured NRC</label>

                                                <input id="assuredNrc"
                                                       name="assuredNrc"
                                                       ng-model="assured.assuredNrc"

                                                       ng-disabled="true"
                                                       class="form-control input-md"/>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.assuredNrc.$dirty &amp;&amp; step2.assuredNrc.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.assuredNrc.$error.required">-->
                                                <!--Please Select the Main Assured NRC.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>



                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label class="control-label">Main Assured MAN Number</label>

                                                <input id="assuredMan"
                                                       class="form-control input-md"

                                                       ng-disabled="true"
                                                       ng-model="assured.assuredMan"
                                                       name="assuredMan">
                                                </input>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.assuredMan.$dirty &amp;&amp; step2.assuredMan.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.assuredMan.$error.required">-->
                                                <!--Please Select the Main Assured MAN Number.-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>



                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Last Salary</label>

                                                <input id="salary"
                                                       name="salary"
                                                       ng-model="assured.salary"

                                                       type="text"
                                                       pattern="[0-9]{5}"
                                                       maxlength="5"
                                                       class="form-control input-md"/>
                                                <!--<div class="error"-->
                                                <!--ng-show="step2.salary.$dirty &amp;&amp; step2.salary.$invalid">-->
                                                <!--<small class="error"-->
                                                <!--ng-show="step2.salary.$error.required">-->
                                                <!--Please Enter Last Salary(5 Digit).-->
                                                <!--</small>-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </accordion-group>
                        </accordion>

                    </ng-form>
                    <div class="row">
                        <div class="col-sm-6">
                            <button type="button" class="btn btn-default btn-sm" ng-click="back()">Cancel</button>
                        </div>
                        <div class="col-sm-6">
                            <button type="button" class="btn btn-default btn-sm" style="float: right"
                                    ng-click="saveProposerDetails()" ng-disabled="isSaveDisabled(step2)"
                                    ng-if="!isViewMode">Save
                            </button>
                        </div>
                    </div>

               </div>
                <div class="step-pane" data-step="3">
                    <ng-form name="step3">
                        <accordion close-others="true">
                            <accordion-group is-open="accordionStatus.claimantDetails" ng-form="assuredDetailForm">
                                <accordion-heading>
                                    Mandatory Document <i class="pull-right glyphicon"
                                                        ng-class="{'glyphicon-chevron-down': accordionStatus.claimantDetails, 'glyphicon-chevron-right': !accordionStatus.claimantDetails}"></i>
                                </accordion-heading>
                                <div class="bs-callout  bs-callout-info" style="overflow:auto;height:240px;"
                                     disable-all-fields="isViewMode">






                              </div>
                            </accordion-group>
                        </accordion>
                    </ng-form>
                </div><!--ending point of one panel-->
            </div>
        </div>
    </form>
    <form method="POST" action="searchproposal" id="searchForm">
        <input type="hidden" id="searchFormProposal" name="proposalId"/>
    </form>

    <style>

        .fuelux .checkbox-custom:before {
        font-family: "Glyphicons Halflings" !important;
        font-style: normal !important;
        font-weight: normal !important;
        font-variant: normal !important;
        text-transform: none !important;
        line-height: 1;
        speak: none;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        border: 1px solid #adadad;
        border-radius: 4px;
        color: #fff;
        content: " ";
        font-size: 12px;
        height: 18px;
        left: 0;
        padding: 1px 0 0 1px;
        position: absolute;
        top: 3px;
        width: 18px;
        }
        .btn {
        font-size: 12px;
        }
    </style>
</script>
<div class="ng-view container-fluid">

</div>


</body>
</html>